<!-- sub-template for index page -->
<div>
	<h2>GPS Analysis</h2>
	<my-index-gps-data>
	<p>Index 2</p>
	</my-index-gps-data>
</div>

<!-- content block -->
<div class="container-fluid">
	<div class="jumbotron">
		<p>Learn to Create Websites</p>
	</div>
	<div class="row">
		<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 ">
			<p>HTML</p>
		</div>
		<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
			<p>Upload - {{upload_url}}</p>
			<form action="/base/upload_url" method="post"
				enctype="multipart/form-data">
				<input type="file" id="images_for_upload" name="images_for_upload"
					multiple="true" value="Add Images"> <input type="submit"
					value="Upload Images">
			</form>

			<section>
				<strong>Files You Selected:</strong>
				<ul id="files_list">
					<li>No Files Selected</li>
				</ul>
				<ul id="too_large_files_list">
					<li>No Files Selected</li>
				</ul>
			</section>
		</div>
		<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
			<p>Bootstrap</p>
		</div>
	</div>
</div>

<!-- js libs -->
<script type="text/javascript" src="/js/plugin_mis/numeric-1.2.6.min.js"></script>
<script type="text/javascript"
	src="/js/plugin_mis/particle_swarm_optimization.js"></script>
<script type="text/javascript">
<!--
	$('#images_for_upload')
			.change(
					function() {

						var input = document
								.getElementById("images_for_upload");
						var ul = document.getElementById("files_list");
						var toolarge = "";
						var maxsize = 1024000;
						while (ul.hasChildNodes()) {
							ul.removeChild(ul.firstChild);
						}
						for ( var i = 0; i < input.files.length; i++) {
							
							if(input.files[i].size>maxsize){
								toolarge += input.files[i].name+"\n";
							}
							else{
								var data=new FormData();
								data.append("uploadimage",uploadedfiles[i]);
							}
							
							var li = document.createElement("li");
							li.innerHTML = input.files[i].name;
							ul.appendChild(li);
						}
						if (!ul.hasChildNodes()) {
							var li = document.createElement("li");
							li.innerHTML = 'No Files Selected';
							ul.appendChild(li);
						}

						//
						if (toolarge != "") {
							alert("These images were not uploaded due to size limit of 1MB\n"
									+ toolarge);
						}
					});
//-->
</script>